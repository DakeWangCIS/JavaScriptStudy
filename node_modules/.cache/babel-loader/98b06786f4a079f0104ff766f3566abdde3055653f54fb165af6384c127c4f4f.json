{"ast":null,"code":"var _jsxFileName = \"/Users/dakewang/WebstormProjects/react-app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer, useState } from 'react';\nimport Meals from \"./components/Meals/Meals\";\nimport CartContext from \"./store/cartContext\";\nimport FilterMeals from \"./components/FilterMeals/FilterMeals\";\nimport Cart from \"./components/Cart/Cart\";\n\n//simulate a group of food data\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MEALS_DATA = [{\n  id: '1',\n  title: 'Sesame Noodle',\n  desc: 'Purely 100% hand-made, Shaanxi Belt Noodles boast a delightful chewy texture.',\n  price: 10.99,\n  img: '/img/meals/1.png'\n}, {\n  id: '2',\n  title: 'Tomato&Egg Noodle',\n  desc: 'Purely 100% hand-made, Shaanxi Belt Noodles boast a delightful chewy texture.',\n  price: 11.99,\n  img: '/img/meals/2.png'\n}, {\n  id: '3',\n  title: 'Beef Noodle',\n  desc: 'Purely 100% hand-made, Shaanxi Belt Noodles boast a delightful chewy texture.',\n  price: 12.99,\n  img: '/img/meals/3.png'\n}, {\n  id: '4',\n  title: 'Rou Jia Mo',\n  desc: 'Purely 100% hand-made, Shaanxi Belt Noodles boast a delightful chewy texture.',\n  price: 11.99,\n  img: '/img/meals/4.png'\n}, {\n  id: '5',\n  title: 'Spicy Chicken',\n  desc: 'Spicy Chicken is a famous dish in China. It is spicy and delicious. Very good!',\n  price: 14.99,\n  img: '/img/meals/5.png'\n}, {\n  id: '6',\n  title: 'Shui Zhu Pork',\n  desc: 'Shui Zhu Pork is a famous dish in China. It is spicy and delicious. Very good!',\n  price: 15.99,\n  img: '/img/meals/6.png'\n}, {\n  id: '7',\n  title: 'Liang Ban Beef',\n  desc: 'Liang Ban Beef is a famous dish in China. It is spicy and delicious. Very good!',\n  price: 12.99,\n  img: '/img/meals/7.png'\n}];\nconst cartReducer = (state, action) => {\n  const newCart = {\n    ...state\n  };\n  switch (action.type) {\n    default:\n      return state;\n    case 'ADD':\n      if (newCart.items.indexOf(meal) === -1) {\n        newCart.items.push(meal);\n        meal.amount = 1;\n      } else {\n        meal.amount++;\n      }\n      newCart.totalAmount++;\n      // newCart.totalPrice += meal.price;\n      newCart.totalPrice = parseFloat((newCart.totalPrice + meal.price).toFixed(2));\n      setCartData(newCart);\n  }\n};\nconst App = () => {\n  _s();\n  // Create a state to store the food data\n  const [mealsData, setMealsData] = useState(MEALS_DATA);\n\n  // Create a state to store the food data in the shopping cart\n  /*\n      1. food data [], items\n      2. total amount\n      3. total price\n   */\n  // const [cartData, setCartData] = useState({\n  //     items: [],\n  //     totalAmount: 0,\n  //     totalPrice: 0\n  // });\n\n  const [cartData, cartDispatch] = useReducer(cartReducer, {\n    items: [],\n    totalAmount: 0,\n    totalPrice: 0\n  });\n\n  // Create a function to filter food\n  const filterHandler = keyword => {\n    const lowerCaseKeyword = keyword.toLowerCase();\n    const newMealsData = MEALS_DATA.filter(item => item.title.toLowerCase().indexOf(lowerCaseKeyword) !== -1);\n    setMealsData(newMealsData);\n  };\n\n  // Create a function to add food to the shopping cart\n  const addItem = meal => {\n    const newCart = {\n      ...cartData\n    };\n    if (newCart.items.indexOf(meal) === -1) {\n      newCart.items.push(meal);\n      meal.amount = 1;\n    } else {\n      meal.amount++;\n    }\n    newCart.totalAmount++;\n    // newCart.totalPrice += meal.price;\n    newCart.totalPrice = parseFloat((newCart.totalPrice + meal.price).toFixed(2));\n    setCartData(newCart);\n  };\n\n  // Create a function to remove food from the shopping cart\n  const removeItem = meal => {\n    const newCart = {\n      ...cartData\n    };\n    meal.amount--;\n    if (meal.amount === 0) {\n      newCart.items.splice(newCart.items.indexOf(meal), 1);\n    }\n    newCart.totalAmount--;\n    newCart.totalPrice = parseFloat((newCart.totalPrice - meal.price).toFixed(2));\n    setCartData(newCart);\n  };\n\n  // Create a function to clear the shopping cart\n  const clearCart = () => {\n    const newCart = {\n      ...cartData\n    };\n\n    // set the amount of each food to 0\n    newCart.items.forEach(item => delete item.amount);\n    newCart.items = [];\n    newCart.totalAmount = 0;\n    newCart.totalPrice = 0;\n    setCartData(newCart);\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      ...cartData,\n      addItem,\n      removeItem,\n      clearCart\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(FilterMeals, {\n        onFilter: filterHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Meals, {\n        mealsData: mealsData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Cart, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"ZosodcOzYW5zq8/97DWeBY17i1Q=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useReducer","useState","Meals","CartContext","FilterMeals","Cart","jsxDEV","_jsxDEV","MEALS_DATA","id","title","desc","price","img","cartReducer","state","action","newCart","type","items","indexOf","meal","push","amount","totalAmount","totalPrice","parseFloat","toFixed","setCartData","App","_s","mealsData","setMealsData","cartData","cartDispatch","filterHandler","keyword","lowerCaseKeyword","toLowerCase","newMealsData","filter","item","addItem","removeItem","splice","clearCart","forEach","Provider","value","children","onFilter","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/dakewang/WebstormProjects/react-app/src/App.js"],"sourcesContent":["import React, {useReducer, useState} from 'react';\nimport Meals from \"./components/Meals/Meals\";\nimport CartContext from \"./store/cartContext\";\nimport FilterMeals from \"./components/FilterMeals/FilterMeals\";\nimport Cart from \"./components/Cart/Cart\";\n\n//simulate a group of food data\nconst MEALS_DATA = [\n    {\n        id: '1',\n        title: 'Sesame Noodle',\n        desc: 'Purely 100% hand-made, Shaanxi Belt Noodles boast a delightful chewy texture.',\n        price: 10.99,\n        img: '/img/meals/1.png'\n    },\n    {\n        id: '2',\n        title: 'Tomato&Egg Noodle',\n        desc: 'Purely 100% hand-made, Shaanxi Belt Noodles boast a delightful chewy texture.',\n        price: 11.99,\n        img: '/img/meals/2.png'\n    },\n    {\n        id: '3',\n        title: 'Beef Noodle',\n        desc: 'Purely 100% hand-made, Shaanxi Belt Noodles boast a delightful chewy texture.',\n        price: 12.99,\n        img: '/img/meals/3.png'\n    },\n    {\n        id: '4',\n        title: 'Rou Jia Mo',\n        desc: 'Purely 100% hand-made, Shaanxi Belt Noodles boast a delightful chewy texture.',\n        price: 11.99,\n        img: '/img/meals/4.png'\n    },\n    {\n        id: '5',\n        title: 'Spicy Chicken',\n        desc: 'Spicy Chicken is a famous dish in China. It is spicy and delicious. Very good!',\n        price: 14.99,\n        img: '/img/meals/5.png'\n    },\n    {\n        id: '6',\n        title: 'Shui Zhu Pork',\n        desc: 'Shui Zhu Pork is a famous dish in China. It is spicy and delicious. Very good!',\n        price: 15.99,\n        img: '/img/meals/6.png'\n    },\n    {\n        id: '7',\n        title: 'Liang Ban Beef',\n        desc: 'Liang Ban Beef is a famous dish in China. It is spicy and delicious. Very good!',\n        price: 12.99,\n        img: '/img/meals/7.png'\n    }\n];\n\nconst cartReducer = (state, action) => {\n\n    const newCart = {...state};\n\n    switch (action.type) {\n        default:\n            return state;\n        case 'ADD':\n            if (newCart.items.indexOf(meal) === -1) {\n                newCart.items.push(meal);\n                meal.amount = 1;\n            } else {\n                meal.amount++;\n            }\n\n            newCart.totalAmount++;\n            // newCart.totalPrice += meal.price;\n            newCart.totalPrice = parseFloat((newCart.totalPrice + meal.price).toFixed(2));\n            setCartData(newCart);\n    }\n};\n\nconst App = () => {\n\n    // Create a state to store the food data\n    const [mealsData, setMealsData] = useState(MEALS_DATA);\n\n    // Create a state to store the food data in the shopping cart\n    /*\n        1. food data [], items\n        2. total amount\n        3. total price\n     */\n    // const [cartData, setCartData] = useState({\n    //     items: [],\n    //     totalAmount: 0,\n    //     totalPrice: 0\n    // });\n\n    const [cartData, cartDispatch] = useReducer(cartReducer, {\n        items: [],\n        totalAmount: 0,\n        totalPrice: 0\n    });\n\n    // Create a function to filter food\n    const filterHandler = (keyword) => {\n        const lowerCaseKeyword = keyword.toLowerCase();\n        const newMealsData = MEALS_DATA.filter(item => item.title.toLowerCase().indexOf(lowerCaseKeyword) !== -1)\n        setMealsData(newMealsData);\n    }\n\n    // Create a function to add food to the shopping cart\n    const addItem = (meal) => {\n        const newCart = {...cartData};\n        if (newCart.items.indexOf(meal) === -1) {\n            newCart.items.push(meal);\n            meal.amount = 1;\n        } else {\n            meal.amount++;\n        }\n\n        newCart.totalAmount++;\n        // newCart.totalPrice += meal.price;\n        newCart.totalPrice = parseFloat((newCart.totalPrice + meal.price).toFixed(2));\n        setCartData(newCart);\n    };\n\n    // Create a function to remove food from the shopping cart\n    const removeItem = (meal) => {\n        const newCart = {...cartData};\n\n        meal.amount--;\n\n        if (meal.amount === 0) {\n            newCart.items.splice(newCart.items.indexOf(meal), 1);\n        }\n\n        newCart.totalAmount--;\n        newCart.totalPrice = parseFloat((newCart.totalPrice - meal.price).toFixed(2));\n\n        setCartData(newCart);\n    }\n\n    // Create a function to clear the shopping cart\n    const clearCart = () => {\n        const newCart = {...cartData};\n\n        // set the amount of each food to 0\n        newCart.items.forEach(item => delete item.amount);\n\n        newCart.items = [];\n        newCart.totalAmount = 0;\n        newCart.totalPrice = 0;\n        setCartData(newCart);\n    }\n\n    return (\n        <CartContext.Provider value={{...cartData, addItem, removeItem, clearCart}}>\n            <div>\n                <FilterMeals onFilter={filterHandler}/>\n                <Meals mealsData={mealsData}/>\n                <Cart/>\n            </div>\n        </CartContext.Provider>\n    );\n};\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}